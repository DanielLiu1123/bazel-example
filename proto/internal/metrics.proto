syntax = "proto3";

package internal;

import "proto/common/types.proto";

option java_package = "com.example.internal";
option java_outer_classname = "MetricsProto";
option go_package = "github.com/example/bazel-example/proto/internal";

// Metric types
enum MetricType {
  METRIC_TYPE_UNSPECIFIED = 0;
  METRIC_TYPE_COUNTER = 1;
  METRIC_TYPE_GAUGE = 2;
  METRIC_TYPE_HISTOGRAM = 3;
  METRIC_TYPE_TIMER = 4;
}

// Metric data point
message MetricPoint {
  string name = 1;
  MetricType type = 2;
  double value = 3;
  map<string, string> labels = 4;
  common.Timestamp timestamp = 5;
}

// Service metrics
message ServiceMetrics {
  string service_name = 1;
  string instance_id = 2;
  repeated MetricPoint metrics = 3;
  common.Timestamp collected_at = 4;
}

// System health metrics
message HealthMetrics {
  double cpu_usage = 1;
  double memory_usage = 2;
  double disk_usage = 3;
  int32 active_connections = 4;
  int32 request_count = 5;
  double response_time_avg = 6;
  int32 error_count = 7;
}

// Business metrics
message BusinessMetrics {
  int32 total_users = 1;
  int32 active_users = 2;
  int32 total_orders = 3;
  int32 orders_today = 4;
  double revenue_today = 5;
  double revenue_total = 6;
  int32 notifications_sent = 7;
  int32 jobs_processed = 8;
}
